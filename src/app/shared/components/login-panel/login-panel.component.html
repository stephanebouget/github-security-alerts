<div class="login-panel">
  <div class="login-content">
    <i class="login-icon ti ti-shield-lock"></i>
    <h2>Welcome to GitHub Security Alerts</h2>
    <p>Enter your GitHub Personal Access Token to monitor security alerts.</p>
    <p class="hint">
      You need a GitHub Personal Access Token with <strong>repo</strong> and
      <strong>read:org</strong> scopes
    </p>
    <div class="auth-options">
      <button
        class="oauth-btn primary"
        (click)="onStartOAuth()"
        [disabled]="oauthLoading || authLoading"
        title="Sign in with GitHub OAuth"
      >
        <span *ngIf="!oauthLoading"
          ><i class="ti ti-brand-github"></i> Sign in with GitHub</span
        >
        <span *ngIf="oauthLoading"
          ><i class="ti ti-loader spinning"></i> Connecting...</span
        >
      </button>

      <div class="divider">
        <span>or</span>
      </div>

      <button
        class="token-btn secondary"
        (click)="onOpenTokenPage()"
        title="Open GitHub token creation page"
        [disabled]="oauthLoading || authLoading"
      >
        <i class="ti ti-key"></i> Create Personal Access Token
      </button>
      <p class="token-description">
        Grants access to your personal repositories and organization
        repositories
      </p>
    </div>
    <div class="token-input-group">
      <input
        type="password"
        [(ngModel)]="tokenInput"
        placeholder="ghp_xxxxxxxxxxxx"
        (keyup.enter)="onLogin()"
        [disabled]="authLoading"
      />
      <button
        class="primary-btn"
        (click)="onLogin()"
        [disabled]="authLoading || !tokenInput.trim()"
      >
        <span *ngIf="!authLoading">Connect</span>
        <span *ngIf="authLoading"
          ><i class="ti ti-loader spinning"></i> Connecting...</span
        >
      </button>
    </div>
    <p class="error-text" *ngIf="error">{{ error }}</p>
  </div>
</div>
